{"version":3,"sources":["copy-tex.js"],"names":[],"mappings":";;AAAA,CAAC,SAAS,gCAAT,CAA0C,IAA1C,EAAgD,OAAhD,EAAyD;AACzD,QAAG,QAAO,OAAP,yCAAO,OAAP,OAAmB,QAAnB,IAA+B,QAAO,MAAP,yCAAO,MAAP,OAAkB,QAApD,EACC,OAAO,OAAP,GAAiB,SAAjB,CADD,KAEK,IAAG,OAAO,MAAP,KAAkB,UAAlB,IAAgC,OAAO,GAA1C,EACJ,OAAO,EAAP,EAAW,OAAX,EADI,KAEA;AACJ,YAAI,IAAI,SAAR;AACA,aAAI,IAAI,CAAR,IAAa,CAAb;AAAgB,aAAC,QAAO,OAAP,yCAAO,OAAP,OAAmB,QAAnB,GAA8B,OAA9B,GAAwC,IAAzC,EAA+C,CAA/C,IAAoD,EAAE,CAAF,CAApD;AAAhB;AACA;AACD,CATD,EASG,IATH,EASS,YAAW;AACpB,WAAO,SAAU,UAAS,OAAT,EAAkB;AAAE;AACrC,oBADmC,CACzB;AACV,oBAAU,IAAI,mBAAmB,EAAvB;AACV;AACA,oBAJmC,CAIzB;AACV,oBAAU,SAAS,mBAAT,CAA6B,QAA7B,EAAuC;AACjD;AACA,wBAFiD,CAEtC;AACX,wBAAW,IAAG,iBAAiB,QAAjB,CAAH,EAA+B;AAC1C,4BAAY,OAAO,iBAAiB,QAAjB,EAA2B,OAAlC;AACZ;AAAY;AACZ,wBANiD,CAMtC;AACX,wBAAW,IAAI,SAAS,iBAAiB,QAAjB,IAA6B;AACrD,4BAAY,GAAG,QADsC;AAErD,4BAAY,GAAG,KAFsC;AAGrD,4BAAY,SAAS;AACrB,4BAJqD,EAA1C;AAKX;AACA,wBAbiD,CAatC;AACX,wBAAW,QAAQ,QAAR,EAAkB,IAAlB,CAAuB,OAAO,OAA9B,EAAuC,MAAvC,EAA+C,OAAO,OAAtD,EAA+D,mBAA/D;AACX;AACA,wBAhBiD,CAgBtC;AACX,wBAAW,OAAO,CAAP,GAAW,IAAX;AACX;AACA,wBAnBiD,CAmBtC;AACX,wBAAW,OAAO,OAAO,OAAd;AACX;AAAW;AACX;AACA;AACA,oBA7BmC,CA6BzB;AACV,oBAAU,oBAAoB,CAApB,GAAwB,OAAxB;AACV;AACA,oBAhCmC,CAgCzB;AACV,oBAAU,oBAAoB,CAApB,GAAwB,gBAAxB;AACV;AACA,oBAnCmC,CAmCzB;AACV,oBAAU,oBAAoB,CAApB,GAAwB,UAAS,OAAT,EAAkB,IAAlB,EAAwB,MAAxB,EAAgC;AAClE,wBAAW,IAAG,CAAC,oBAAoB,CAApB,CAAsB,OAAtB,EAA+B,IAA/B,CAAJ,EAA0C;AACrD,4BAAY,uBAAsB,OAAtB,EAA+B,IAA/B,EAAqC;AACjD,gCAAa,cAAc,KADsB;AAEjD,gCAAa,YAAY,IAFwB;AAGjD,gCAAa,KAAK;AAClB,gCAJiD,EAArC;AAKZ;AAAY;AACZ;AAAW,aARD;AASV;AACA,oBA9CmC,CA8CzB;AACV,oBAAU,oBAAoB,CAApB,GAAwB,UAAS,MAAT,EAAiB;AACnD,wBAAW,IAAI,SAAS,UAAU,OAAO,UAAjB;AACxB,wBAAY,SAAS,UAAT,GAAsB;AAAE,2BAAO,OAAO,SAAP,CAAP;AAA2B,iBADvC;AAExB,wBAAY,SAAS,gBAAT,GAA4B;AAAE,2BAAO,MAAP;AAAgB,iBAF/C;AAGX,wBAAW,oBAAoB,CAApB,CAAsB,MAAtB,EAA8B,GAA9B,EAAmC,MAAnC;AACX,wBAAW,OAAO,MAAP;AACX;AAAW,aAND;AAOV;AACA,oBAvDmC,CAuDzB;AACV,oBAAU,oBAAoB,CAApB,GAAwB,UAAS,MAAT,EAAiB,QAAjB,EAA2B;AAAE,uBAAO,OAAO,SAAP,CAAiB,cAAjB,CAAgC,IAAhC,CAAqC,MAArC,EAA6C,QAA7C,CAAP;AAAgE,aAArH;AACV;AACA,oBA1DmC,CA0DzB;AACV,oBAAU,oBAAoB,CAApB,GAAwB,EAAxB;AACV;AACA,oBA7DmC,CA6DzB;AACV,oBAAU,OAAO,oBAAoB,oBAAoB,CAApB,GAAwB,CAA5C,CAAP;AACV;AAAU,SA/DM;AAgEhB;AACA,gBAAU;AACV;AACA,aAAO,UAAS,MAAT,EAAiB,mBAAjB,EAAsC,mBAAtC,EAA2D;;AAElE;;AACA,mBAAO,cAAP,CAAsB,mBAAtB,EAA2C,YAA3C,EAAyD,EAAE,OAAO,IAAT,EAAzD;AACA,gCAAqB,IAAI,8CAA8C,oBAAoB,CAApB,CAAlD;AACrB,gCAAqB,IAAI,sDAAsD,oBAAoB,CAApB,CAAsB,2CAAtB,CAA1D;AACrB,gCAAqB,IAAI,2CAA2C,oBAAoB,CAApB,CAA/C;;AAIrB;AACA,qBAAS,gBAAT,CAA0B,MAA1B,EAAkC,UAAU,KAAV,EAAiB;AAC/C,oBAAI,YAAY,OAAO,YAAP,EAAhB;AACA,oBAAI,UAAU,WAAd,EAA2B;AACvB,2BADuB,CACf;AACX;AACD,oBAAI,WAAW,UAAU,UAAV,CAAqB,CAArB,EAAwB,aAAxB,EAAf;AACA,oBAAI,CAAC,SAAS,aAAT,CAAuB,eAAvB,CAAL,EAA8C;AAC1C,2BAD0C,CAClC;AACX;AACD;AACA,oBAAI,OAAO,EAAX;AACA,qBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,SAAS,UAAT,CAAoB,MAAxC,EAAgD,GAAhD,EAAqD;AACjD,yBAAK,IAAL,CAAU,SAAS,UAAT,CAAoB,CAApB,EAAuB,SAAjC;AACH;AACD,sBAAM,aAAN,CAAoB,OAApB,CAA4B,WAA5B,EAAyC,KAAK,IAAL,CAAU,EAAV,CAAzC;AACA;AACA,sBAAM,aAAN,CAAoB,OAApB,CAA4B,YAA5B,EAA0C,OAAO,yCAAyC,GAAzC,CAA6C,aAA7C,CAAP,EAAoE,QAApE,EAA8E,WAAxH;AACA;AACA,sBAAM,cAAN;AACH,aAnBD;;AAqBA;AAAO,SAlCG;AAmCV;AACA,aAAO,UAAS,MAAT,EAAiB,OAAjB,EAA0B;;AAEjC;;AAEA,iBAAO,CAxCG;AAyCV;AACA,aAAO,UAAS,MAAT,EAAiB,mBAAjB,EAAsC,mBAAtC,EAA2D;;AAElE;AACA;AACA;AACA;;AACA,gBAAI,wBAAwB;AACxB,wBAAQ,CAAC,GAAD,EAAM,GAAN,CADgB,EACJ;AACpB,yBAAS,CAAC,IAAD,EAAO,IAAP,CAFe,CAEF;AAFE,aAA5B;;AAKA;AACA;AACA;AACA,gBAAI,sBAAsB,SAAS,mBAAT,CAA6B,QAA7B,EAAuC;AAC7D,oBAAI,iBAAiB,UAAU,MAAV,GAAmB,CAAnB,IAAwB,UAAU,CAAV,MAAiB,SAAzC,GAAqD,UAAU,CAAV,CAArD,GAAoE,qBAAzF;;AAEA;AACA;AACA,oBAAI,YAAY,SAAS,gBAAT,CAA0B,6BAA1B,CAAhB;AACA,qBAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,UAAU,MAA9B,EAAsC,GAAtC,EAA2C;AACvC,wBAAI,UAAU,UAAU,CAAV,CAAd;AACA,wBAAI,QAAQ,MAAZ,EAAoB;AAChB,gCAAQ,MAAR,CAAe,IAAf;AACH,qBAFD,MAEO;AACH,gCAAQ,UAAR,CAAmB,WAAnB,CAA+B,OAA/B;AACH;AACJ;AACD;AACA;AACA,oBAAI,cAAc,SAAS,gBAAT,CAA0B,eAA1B,CAAlB;AACA,qBAAK,IAAI,KAAK,CAAd,EAAiB,KAAK,YAAY,MAAlC,EAA0C,IAA1C,EAAgD;AAC5C,wBAAI,WAAW,YAAY,EAAZ,CAAf;AACA,wBAAI,YAAY,SAAS,aAAT,CAAuB,YAAvB,CAAhB;AACA,wBAAI,SAAJ,EAAe;AACX,4BAAI,SAAS,WAAb,EAA0B;AACtB,qCAAS,WAAT,CAAqB,SAArB;AACH,yBAFD,MAEO;AACH,qCAAS,UAAT,CAAoB,YAApB,CAAiC,SAAjC,EAA4C,QAA5C;AACH;AACD,kCAAU,SAAV,GAAsB,eAAe,MAAf,CAAsB,CAAtB,IAA2B,UAAU,SAArC,GAAiD,eAAe,MAAf,CAAsB,CAAtB,CAAvE;AACH;AACJ;AACD;AACA,oBAAI,WAAW,SAAS,gBAAT,CAA0B,2BAA1B,CAAf;AACA,qBAAK,IAAI,MAAM,CAAf,EAAkB,MAAM,SAAS,MAAjC,EAAyC,KAAzC,EAAgD;AAC5C,wBAAI,YAAY,SAAS,GAAT,CAAhB;AACA,8BAAU,SAAV,GAAsB,eAAe,OAAf,CAAuB,CAAvB,IAA4B,UAAU,SAAV,CAAoB,MAApB,CAA2B,eAAe,MAAf,CAAsB,CAAtB,EAAyB,MAApD,EAA4D,UAAU,SAAV,CAAoB,MAApB,GAA6B,eAAe,MAAf,CAAsB,CAAtB,EAAyB,MAAtD,GAA+D,eAAe,MAAf,CAAsB,CAAtB,EAAyB,MAApJ,CAA5B,GAA0L,eAAe,OAAf,CAAuB,CAAvB,CAAhN;AACH;AACD,uBAAO,QAAP;AACH,aApCD;;AAsCA,wCAA6B,oBAAoB,GAApB,IAA4B,mBAA5B;;AAE7B;AAAO,SAhGG,CAjEM,EAkKJ,SAlKI;AAAhB;AAmKC,CA7KD","file":"copy-tex-compiled.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__copy_tex_css__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__copy_tex_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__copy_tex_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__katex2tex__ = __webpack_require__(2);\n\n\n\n// Global copy handler to modify behavior on .katex elements.\ndocument.addEventListener('copy', function (event) {\n    var selection = window.getSelection();\n    if (selection.isCollapsed) {\n        return; // default action OK if selection is empty\n    }\n    var fragment = selection.getRangeAt(0).cloneContents();\n    if (!fragment.querySelector('.katex-mathml')) {\n        return; // default action OK if no .katex-mathml elements\n    }\n    // Preserve usual HTML copy/paste behavior.\n    var html = [];\n    for (var i = 0; i < fragment.childNodes.length; i++) {\n        html.push(fragment.childNodes[i].outerHTML);\n    }\n    event.clipboardData.setData('text/html', html.join(''));\n    // Rewrite plain-text version.\n    event.clipboardData.setData('text/plain', Object(__WEBPACK_IMPORTED_MODULE_1__katex2tex__[\"a\" /* default */])(fragment).textContent);\n    // Prevent normal copy handling.\n    event.preventDefault();\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export defaultCopyDelimiters */\n/* unused harmony export katexReplaceWithTex */\n// Set these to how you want inline and display math to be delimited.\nvar defaultCopyDelimiters = {\n    inline: ['$', '$'], // alternative: ['\\(', '\\)']\n    display: ['$$', '$$'] // alternative: ['\\[', '\\]']\n};\n\n// Replace .katex elements with their TeX source (<annotation> element).\n// Modifies fragment in-place.  Useful for writing your own 'copy' handler,\n// as in copy-tex.js.\nvar katexReplaceWithTex = function katexReplaceWithTex(fragment) {\n    var copyDelimiters = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultCopyDelimiters;\n\n    // Remove .katex-html blocks that are preceded by .katex-mathml blocks\n    // (which will get replaced below).\n    var katexHtml = fragment.querySelectorAll('.katex-mathml + .katex-html');\n    for (var i = 0; i < katexHtml.length; i++) {\n        var element = katexHtml[i];\n        if (element.remove) {\n            element.remove(null);\n        } else {\n            element.parentNode.removeChild(element);\n        }\n    }\n    // Replace .katex-mathml elements with their annotation (TeX source)\n    // descendant, with inline delimiters.\n    var katexMathml = fragment.querySelectorAll('.katex-mathml');\n    for (var _i = 0; _i < katexMathml.length; _i++) {\n        var _element = katexMathml[_i];\n        var texSource = _element.querySelector('annotation');\n        if (texSource) {\n            if (_element.replaceWith) {\n                _element.replaceWith(texSource);\n            } else {\n                _element.parentNode.replaceChild(texSource, _element);\n            }\n            texSource.innerHTML = copyDelimiters.inline[0] + texSource.innerHTML + copyDelimiters.inline[1];\n        }\n    }\n    // Switch display math to display delimiters.\n    var displays = fragment.querySelectorAll('.katex-display annotation');\n    for (var _i2 = 0; _i2 < displays.length; _i2++) {\n        var _element2 = displays[_i2];\n        _element2.innerHTML = copyDelimiters.display[0] + _element2.innerHTML.substr(copyDelimiters.inline[0].length, _element2.innerHTML.length - copyDelimiters.inline[0].length - copyDelimiters.inline[1].length) + copyDelimiters.display[1];\n    }\n    return fragment;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (katexReplaceWithTex);\n\n/***/ })\n/******/ ])[\"default\"];\n});"]}